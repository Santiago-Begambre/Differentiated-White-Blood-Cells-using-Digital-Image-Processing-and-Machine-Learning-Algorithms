function [trainedClassifier, validationAccuracy] = trainClassifier_subspaceknn(trainingData)
% [trainedClassifier, validationAccuracy] = trainClassifier(trainingData)
% returns a trained classifier and its accuracy. This code recreates the
% classification model trained in Classification Learner app. Use the
% generated code to automate training the same model with new data, or to
% learn how to programmatically train models.
%
%  Input:
%      trainingData: a table containing the same predictor and response
%       columns as imported into the app.
%
%  Output:
%      trainedClassifier: a struct containing the trained classifier. The
%       struct contains various fields with information about the trained
%       classifier.
%
%      trainedClassifier.predictFcn: a function to make predictions on new
%       data.
%
%      validationAccuracy: a double containing the accuracy in percent. In
%       the app, the History list displays this overall accuracy score for
%       each model.
%
% Use the code to train the model with new data. To retrain your
% classifier, call the function from the command line with your original
% data or new data as the input argument trainingData.
%
% For example, to retrain a classifier trained with the original data set
% T, enter:
%   [trainedClassifier, validationAccuracy] = trainClassifier(T)
%
% To make predictions with the returned 'trainedClassifier' on new data T2,
% use
%   yfit = trainedClassifier.predictFcn(T2)
%
% T2 must be a table containing at least the same predictor columns as used
% during training. For details, enter:
%   trainedClassifier.HowToPredict

% Auto-generated by MATLAB on 26-Apr-2020 19:09:11


% Extract predictors and response
% This code processes the data into the right shape for training the
% model.
inputTable = trainingData;
predictorNames = {'infectionData1', 'infectionData2', 'infectionData3', 'infectionData4', 'infectionData5', 'infectionData6', 'infectionData7', 'infectionData8', 'infectionData9', 'infectionData10', 'infectionData11', 'infectionData12', 'infectionData13', 'infectionData14', 'infectionData15', 'infectionData16', 'infectionData17', 'infectionData18', 'infectionData19', 'infectionData20', 'infectionData21', 'infectionData22', 'infectionData23', 'infectionData24', 'infectionData25', 'infectionData26', 'infectionData27', 'infectionData28', 'infectionData29', 'infectionData30', 'infectionData31', 'infectionData32', 'infectionData33', 'infectionData34', 'infectionData35', 'infectionData36', 'infectionData37', 'infectionData38', 'infectionData39', 'infectionData40', 'infectionData41', 'infectionData42', 'infectionData43', 'infectionData44', 'infectionData45', 'infectionData46', 'infectionData47', 'infectionData48', 'infectionData49', 'infectionData50', 'infectionData51', 'infectionData52', 'infectionData53', 'infectionData54', 'infectionData55', 'infectionData56', 'infectionData57', 'infectionData58', 'infectionData59', 'infectionData60', 'infectionData61', 'infectionData62', 'infectionData63', 'infectionData64', 'infectionData65', 'infectionData66', 'infectionData67', 'infectionData68', 'infectionData69', 'infectionData70', 'infectionData71', 'infectionData72', 'infectionData73', 'infectionData74', 'infectionData75', 'infectionData76', 'infectionData77', 'infectionData78', 'infectionData79', 'infectionData80', 'infectionData81', 'infectionData82', 'infectionData83', 'infectionData84', 'infectionData85', 'infectionData86', 'infectionData87', 'infectionData88', 'infectionData89', 'infectionData90', 'infectionData91', 'infectionData92', 'infectionData93', 'infectionData94', 'infectionData95', 'infectionData96', 'infectionData97', 'infectionData98', 'infectionData99', 'infectionData100', 'infectionData101', 'infectionData102', 'infectionData103', 'infectionData104', 'infectionData105', 'infectionData106', 'infectionData107', 'infectionData108', 'infectionData109', 'infectionData110', 'infectionData111', 'infectionData112', 'infectionData113', 'infectionData114', 'infectionData115', 'infectionData116', 'infectionData117', 'infectionData118', 'infectionData119', 'infectionData120', 'infectionData121', 'infectionData122', 'infectionData123', 'infectionData124', 'infectionData125', 'infectionData126', 'infectionData127', 'infectionData128', 'infectionData129', 'infectionData130', 'infectionData131', 'infectionData132', 'infectionData133', 'infectionData134', 'infectionData135', 'infectionData136', 'infectionData137', 'infectionData138', 'infectionData139', 'infectionData140', 'infectionData141', 'infectionData142', 'infectionData143', 'infectionData144', 'infectionData145', 'infectionData146', 'infectionData147', 'infectionData148', 'infectionData149', 'infectionData150', 'infectionData151', 'infectionData152', 'infectionData153', 'infectionData154', 'infectionData155', 'infectionData156', 'infectionData157', 'infectionData158', 'infectionData159', 'infectionData160', 'infectionData161', 'infectionData162', 'infectionData163', 'infectionData164', 'infectionData165', 'infectionData166', 'infectionData167', 'infectionData168', 'infectionData169', 'infectionData170', 'infectionData171', 'infectionData172', 'infectionData173', 'infectionData174', 'infectionData175', 'infectionData176', 'infectionData177', 'infectionData178', 'infectionData179', 'infectionData180', 'infectionData181', 'infectionData182', 'infectionData183', 'infectionData184', 'infectionData185', 'infectionData186', 'infectionData187', 'infectionData188', 'infectionData189', 'infectionData190', 'infectionData191', 'infectionData192', 'infectionData193', 'infectionData194', 'infectionData195', 'infectionData196', 'infectionData197', 'infectionData198', 'infectionData199', 'infectionData200', 'infectionData201', 'infectionData202', 'infectionData203', 'infectionData204', 'infectionData205', 'infectionData206', 'infectionData207', 'infectionData208', 'infectionData209', 'infectionData210', 'infectionData211', 'infectionData212', 'infectionData213', 'infectionData214', 'infectionData215', 'infectionData216', 'infectionData217', 'infectionData218', 'infectionData219', 'infectionData220', 'infectionData221', 'infectionData222', 'infectionData223', 'infectionData224', 'infectionData225', 'infectionData226', 'infectionData227', 'infectionData228', 'infectionData229', 'infectionData230', 'infectionData231', 'infectionData232', 'infectionData233', 'infectionData234', 'infectionData235', 'infectionData236', 'infectionData237', 'infectionData238', 'infectionData239', 'infectionData240', 'infectionData241', 'infectionData242', 'infectionData243', 'infectionData244', 'infectionData245', 'infectionData246', 'infectionData247', 'infectionData248', 'infectionData249', 'infectionData250', 'infectionData251', 'infectionData252', 'infectionData253', 'infectionData254', 'infectionData255', 'infectionData256', 'infectionData257', 'infectionData258', 'infectionData259', 'infectionData260', 'infectionData261', 'infectionData262', 'infectionData263', 'infectionData264', 'infectionData265', 'infectionData266', 'infectionData267', 'infectionData268', 'infectionData269', 'infectionData270', 'infectionData271', 'infectionData272', 'infectionData273', 'infectionData274', 'infectionData275', 'infectionData276', 'infectionData277', 'infectionData278', 'infectionData279', 'infectionData280', 'infectionData281', 'infectionData282', 'infectionData283', 'infectionData284', 'infectionData285', 'infectionData286', 'infectionData287', 'infectionData288', 'infectionData289', 'infectionData290', 'infectionData291', 'infectionData292', 'infectionData293', 'infectionData294', 'infectionData295', 'infectionData296', 'infectionData297', 'infectionData298', 'infectionData299', 'infectionData300', 'infectionData301', 'infectionData302', 'infectionData303', 'infectionData304', 'infectionData305', 'infectionData306', 'infectionData307', 'infectionData308', 'infectionData309', 'infectionData310', 'infectionData311', 'infectionData312', 'infectionData313', 'infectionData314', 'infectionData315', 'infectionData316', 'infectionData317', 'infectionData318', 'infectionData319', 'infectionData320', 'infectionData321', 'infectionData322', 'infectionData323', 'infectionData324', 'infectionData325', 'infectionData326', 'infectionData327', 'infectionData328', 'infectionData329', 'infectionData330', 'infectionData331', 'infectionData332', 'infectionData333', 'infectionData334', 'infectionData335', 'infectionData336', 'infectionData337', 'infectionData338', 'infectionData339', 'infectionData340', 'infectionData341', 'infectionData342', 'infectionData343', 'infectionData344', 'infectionData345', 'infectionData346', 'infectionData347', 'infectionData348', 'infectionData349', 'infectionData350', 'infectionData351', 'infectionData352', 'infectionData353', 'infectionData354', 'infectionData355', 'infectionData356', 'infectionData357', 'infectionData358', 'infectionData359', 'infectionData360', 'infectionData361', 'infectionData362', 'infectionData363', 'infectionData364', 'infectionData365', 'infectionData366', 'infectionData367', 'infectionData368', 'infectionData369', 'infectionData370', 'infectionData371', 'infectionData372', 'infectionData373', 'infectionData374', 'infectionData375', 'infectionData376', 'infectionData377', 'infectionData378', 'infectionData379', 'infectionData380', 'infectionData381', 'infectionData382', 'infectionData383', 'infectionData384', 'infectionData385', 'infectionData386', 'infectionData387', 'infectionData388', 'infectionData389', 'infectionData390', 'infectionData391', 'infectionData392', 'infectionData393', 'infectionData394', 'infectionData395', 'infectionData396', 'infectionData397', 'infectionData398', 'infectionData399', 'infectionData400', 'infectionData401', 'infectionData402', 'infectionData403', 'infectionData404', 'infectionData405', 'infectionData406', 'infectionData407', 'infectionData408', 'infectionData409', 'infectionData410', 'infectionData411', 'infectionData412', 'infectionData413', 'infectionData414', 'infectionData415', 'infectionData416', 'infectionData417', 'infectionData418', 'infectionData419', 'infectionData420', 'infectionData421', 'infectionData422', 'infectionData423', 'infectionData424', 'infectionData425', 'infectionData426', 'infectionData427', 'infectionData428', 'infectionData429', 'infectionData430', 'infectionData431', 'infectionData432', 'infectionData433', 'infectionData434', 'infectionData435', 'infectionData436', 'infectionData437', 'infectionData438', 'infectionData439', 'infectionData440', 'infectionData441', 'infectionData442', 'infectionData443', 'infectionData444', 'infectionData445', 'infectionData446', 'infectionData447', 'infectionData448', 'infectionData449', 'infectionData450', 'infectionData451', 'infectionData452', 'infectionData453', 'infectionData454', 'infectionData455', 'infectionData456', 'infectionData457', 'infectionData458', 'infectionData459', 'infectionData460', 'infectionData461', 'infectionData462', 'infectionData463', 'infectionData464', 'infectionData465', 'infectionData466', 'infectionData467', 'infectionData468', 'infectionData469', 'infectionData470', 'infectionData471', 'infectionData472', 'infectionData473', 'infectionData474', 'infectionData475', 'infectionData476', 'infectionData477', 'infectionData478', 'infectionData479', 'infectionData480', 'infectionData481', 'infectionData482', 'infectionData483', 'infectionData484', 'infectionData485', 'infectionData486', 'infectionData487', 'infectionData488', 'infectionData489', 'infectionData490', 'infectionData491', 'infectionData492', 'infectionData493', 'infectionData494', 'infectionData495', 'infectionData496', 'infectionData497', 'infectionData498', 'infectionData499', 'infectionData500'};
predictors = inputTable(:, predictorNames);
response = inputTable.infectionType;
isCategoricalPredictor = [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false];

% Train a classifier
% This code specifies all the classifier options and trains the classifier.
subspaceDimension = max(1, min(250, width(predictors) - 1));
classificationEnsemble = fitcensemble(...
    predictors, ...
    response, ...
    'Method', 'Subspace', ...
    'NumLearningCycles', 30, ...
    'Learners', 'knn', ...
    'NPredToSample', subspaceDimension, ...
    'ClassNames', categorical({'EOSINOFILOS'; 'LINFOCITOS'; 'MONOCITOS'; 'NEUTROFILOS'}));

% Create the result struct with predict function
predictorExtractionFcn = @(t) t(:, predictorNames);
ensemblePredictFcn = @(x) predict(classificationEnsemble, x);
trainedClassifier.predictFcn = @(x) ensemblePredictFcn(predictorExtractionFcn(x));

% Add additional fields to the result struct
trainedClassifier.RequiredVariables = {'infectionData1', 'infectionData2', 'infectionData3', 'infectionData4', 'infectionData5', 'infectionData6', 'infectionData7', 'infectionData8', 'infectionData9', 'infectionData10', 'infectionData11', 'infectionData12', 'infectionData13', 'infectionData14', 'infectionData15', 'infectionData16', 'infectionData17', 'infectionData18', 'infectionData19', 'infectionData20', 'infectionData21', 'infectionData22', 'infectionData23', 'infectionData24', 'infectionData25', 'infectionData26', 'infectionData27', 'infectionData28', 'infectionData29', 'infectionData30', 'infectionData31', 'infectionData32', 'infectionData33', 'infectionData34', 'infectionData35', 'infectionData36', 'infectionData37', 'infectionData38', 'infectionData39', 'infectionData40', 'infectionData41', 'infectionData42', 'infectionData43', 'infectionData44', 'infectionData45', 'infectionData46', 'infectionData47', 'infectionData48', 'infectionData49', 'infectionData50', 'infectionData51', 'infectionData52', 'infectionData53', 'infectionData54', 'infectionData55', 'infectionData56', 'infectionData57', 'infectionData58', 'infectionData59', 'infectionData60', 'infectionData61', 'infectionData62', 'infectionData63', 'infectionData64', 'infectionData65', 'infectionData66', 'infectionData67', 'infectionData68', 'infectionData69', 'infectionData70', 'infectionData71', 'infectionData72', 'infectionData73', 'infectionData74', 'infectionData75', 'infectionData76', 'infectionData77', 'infectionData78', 'infectionData79', 'infectionData80', 'infectionData81', 'infectionData82', 'infectionData83', 'infectionData84', 'infectionData85', 'infectionData86', 'infectionData87', 'infectionData88', 'infectionData89', 'infectionData90', 'infectionData91', 'infectionData92', 'infectionData93', 'infectionData94', 'infectionData95', 'infectionData96', 'infectionData97', 'infectionData98', 'infectionData99', 'infectionData100', 'infectionData101', 'infectionData102', 'infectionData103', 'infectionData104', 'infectionData105', 'infectionData106', 'infectionData107', 'infectionData108', 'infectionData109', 'infectionData110', 'infectionData111', 'infectionData112', 'infectionData113', 'infectionData114', 'infectionData115', 'infectionData116', 'infectionData117', 'infectionData118', 'infectionData119', 'infectionData120', 'infectionData121', 'infectionData122', 'infectionData123', 'infectionData124', 'infectionData125', 'infectionData126', 'infectionData127', 'infectionData128', 'infectionData129', 'infectionData130', 'infectionData131', 'infectionData132', 'infectionData133', 'infectionData134', 'infectionData135', 'infectionData136', 'infectionData137', 'infectionData138', 'infectionData139', 'infectionData140', 'infectionData141', 'infectionData142', 'infectionData143', 'infectionData144', 'infectionData145', 'infectionData146', 'infectionData147', 'infectionData148', 'infectionData149', 'infectionData150', 'infectionData151', 'infectionData152', 'infectionData153', 'infectionData154', 'infectionData155', 'infectionData156', 'infectionData157', 'infectionData158', 'infectionData159', 'infectionData160', 'infectionData161', 'infectionData162', 'infectionData163', 'infectionData164', 'infectionData165', 'infectionData166', 'infectionData167', 'infectionData168', 'infectionData169', 'infectionData170', 'infectionData171', 'infectionData172', 'infectionData173', 'infectionData174', 'infectionData175', 'infectionData176', 'infectionData177', 'infectionData178', 'infectionData179', 'infectionData180', 'infectionData181', 'infectionData182', 'infectionData183', 'infectionData184', 'infectionData185', 'infectionData186', 'infectionData187', 'infectionData188', 'infectionData189', 'infectionData190', 'infectionData191', 'infectionData192', 'infectionData193', 'infectionData194', 'infectionData195', 'infectionData196', 'infectionData197', 'infectionData198', 'infectionData199', 'infectionData200', 'infectionData201', 'infectionData202', 'infectionData203', 'infectionData204', 'infectionData205', 'infectionData206', 'infectionData207', 'infectionData208', 'infectionData209', 'infectionData210', 'infectionData211', 'infectionData212', 'infectionData213', 'infectionData214', 'infectionData215', 'infectionData216', 'infectionData217', 'infectionData218', 'infectionData219', 'infectionData220', 'infectionData221', 'infectionData222', 'infectionData223', 'infectionData224', 'infectionData225', 'infectionData226', 'infectionData227', 'infectionData228', 'infectionData229', 'infectionData230', 'infectionData231', 'infectionData232', 'infectionData233', 'infectionData234', 'infectionData235', 'infectionData236', 'infectionData237', 'infectionData238', 'infectionData239', 'infectionData240', 'infectionData241', 'infectionData242', 'infectionData243', 'infectionData244', 'infectionData245', 'infectionData246', 'infectionData247', 'infectionData248', 'infectionData249', 'infectionData250', 'infectionData251', 'infectionData252', 'infectionData253', 'infectionData254', 'infectionData255', 'infectionData256', 'infectionData257', 'infectionData258', 'infectionData259', 'infectionData260', 'infectionData261', 'infectionData262', 'infectionData263', 'infectionData264', 'infectionData265', 'infectionData266', 'infectionData267', 'infectionData268', 'infectionData269', 'infectionData270', 'infectionData271', 'infectionData272', 'infectionData273', 'infectionData274', 'infectionData275', 'infectionData276', 'infectionData277', 'infectionData278', 'infectionData279', 'infectionData280', 'infectionData281', 'infectionData282', 'infectionData283', 'infectionData284', 'infectionData285', 'infectionData286', 'infectionData287', 'infectionData288', 'infectionData289', 'infectionData290', 'infectionData291', 'infectionData292', 'infectionData293', 'infectionData294', 'infectionData295', 'infectionData296', 'infectionData297', 'infectionData298', 'infectionData299', 'infectionData300', 'infectionData301', 'infectionData302', 'infectionData303', 'infectionData304', 'infectionData305', 'infectionData306', 'infectionData307', 'infectionData308', 'infectionData309', 'infectionData310', 'infectionData311', 'infectionData312', 'infectionData313', 'infectionData314', 'infectionData315', 'infectionData316', 'infectionData317', 'infectionData318', 'infectionData319', 'infectionData320', 'infectionData321', 'infectionData322', 'infectionData323', 'infectionData324', 'infectionData325', 'infectionData326', 'infectionData327', 'infectionData328', 'infectionData329', 'infectionData330', 'infectionData331', 'infectionData332', 'infectionData333', 'infectionData334', 'infectionData335', 'infectionData336', 'infectionData337', 'infectionData338', 'infectionData339', 'infectionData340', 'infectionData341', 'infectionData342', 'infectionData343', 'infectionData344', 'infectionData345', 'infectionData346', 'infectionData347', 'infectionData348', 'infectionData349', 'infectionData350', 'infectionData351', 'infectionData352', 'infectionData353', 'infectionData354', 'infectionData355', 'infectionData356', 'infectionData357', 'infectionData358', 'infectionData359', 'infectionData360', 'infectionData361', 'infectionData362', 'infectionData363', 'infectionData364', 'infectionData365', 'infectionData366', 'infectionData367', 'infectionData368', 'infectionData369', 'infectionData370', 'infectionData371', 'infectionData372', 'infectionData373', 'infectionData374', 'infectionData375', 'infectionData376', 'infectionData377', 'infectionData378', 'infectionData379', 'infectionData380', 'infectionData381', 'infectionData382', 'infectionData383', 'infectionData384', 'infectionData385', 'infectionData386', 'infectionData387', 'infectionData388', 'infectionData389', 'infectionData390', 'infectionData391', 'infectionData392', 'infectionData393', 'infectionData394', 'infectionData395', 'infectionData396', 'infectionData397', 'infectionData398', 'infectionData399', 'infectionData400', 'infectionData401', 'infectionData402', 'infectionData403', 'infectionData404', 'infectionData405', 'infectionData406', 'infectionData407', 'infectionData408', 'infectionData409', 'infectionData410', 'infectionData411', 'infectionData412', 'infectionData413', 'infectionData414', 'infectionData415', 'infectionData416', 'infectionData417', 'infectionData418', 'infectionData419', 'infectionData420', 'infectionData421', 'infectionData422', 'infectionData423', 'infectionData424', 'infectionData425', 'infectionData426', 'infectionData427', 'infectionData428', 'infectionData429', 'infectionData430', 'infectionData431', 'infectionData432', 'infectionData433', 'infectionData434', 'infectionData435', 'infectionData436', 'infectionData437', 'infectionData438', 'infectionData439', 'infectionData440', 'infectionData441', 'infectionData442', 'infectionData443', 'infectionData444', 'infectionData445', 'infectionData446', 'infectionData447', 'infectionData448', 'infectionData449', 'infectionData450', 'infectionData451', 'infectionData452', 'infectionData453', 'infectionData454', 'infectionData455', 'infectionData456', 'infectionData457', 'infectionData458', 'infectionData459', 'infectionData460', 'infectionData461', 'infectionData462', 'infectionData463', 'infectionData464', 'infectionData465', 'infectionData466', 'infectionData467', 'infectionData468', 'infectionData469', 'infectionData470', 'infectionData471', 'infectionData472', 'infectionData473', 'infectionData474', 'infectionData475', 'infectionData476', 'infectionData477', 'infectionData478', 'infectionData479', 'infectionData480', 'infectionData481', 'infectionData482', 'infectionData483', 'infectionData484', 'infectionData485', 'infectionData486', 'infectionData487', 'infectionData488', 'infectionData489', 'infectionData490', 'infectionData491', 'infectionData492', 'infectionData493', 'infectionData494', 'infectionData495', 'infectionData496', 'infectionData497', 'infectionData498', 'infectionData499', 'infectionData500'};
trainedClassifier.ClassificationEnsemble = classificationEnsemble;
trainedClassifier.About = 'This struct is a trained model exported from Classification Learner R2017b.';
trainedClassifier.HowToPredict = sprintf('To make predictions on a new table, T, use: \n  yfit = c.predictFcn(T) \nreplacing ''c'' with the name of the variable that is this struct, e.g. ''trainedModel''. \n \nThe table, T, must contain the variables returned by: \n  c.RequiredVariables \nVariable formats (e.g. matrix/vector, datatype) must match the original training data. \nAdditional variables are ignored. \n \nFor more information, see <a href="matlab:helpview(fullfile(docroot, ''stats'', ''stats.map''), ''appclassification_exportmodeltoworkspace'')">How to predict using an exported model</a>.');

% Extract predictors and response
% This code processes the data into the right shape for training the
% model.
inputTable = trainingData;
predictorNames = {'infectionData1', 'infectionData2', 'infectionData3', 'infectionData4', 'infectionData5', 'infectionData6', 'infectionData7', 'infectionData8', 'infectionData9', 'infectionData10', 'infectionData11', 'infectionData12', 'infectionData13', 'infectionData14', 'infectionData15', 'infectionData16', 'infectionData17', 'infectionData18', 'infectionData19', 'infectionData20', 'infectionData21', 'infectionData22', 'infectionData23', 'infectionData24', 'infectionData25', 'infectionData26', 'infectionData27', 'infectionData28', 'infectionData29', 'infectionData30', 'infectionData31', 'infectionData32', 'infectionData33', 'infectionData34', 'infectionData35', 'infectionData36', 'infectionData37', 'infectionData38', 'infectionData39', 'infectionData40', 'infectionData41', 'infectionData42', 'infectionData43', 'infectionData44', 'infectionData45', 'infectionData46', 'infectionData47', 'infectionData48', 'infectionData49', 'infectionData50', 'infectionData51', 'infectionData52', 'infectionData53', 'infectionData54', 'infectionData55', 'infectionData56', 'infectionData57', 'infectionData58', 'infectionData59', 'infectionData60', 'infectionData61', 'infectionData62', 'infectionData63', 'infectionData64', 'infectionData65', 'infectionData66', 'infectionData67', 'infectionData68', 'infectionData69', 'infectionData70', 'infectionData71', 'infectionData72', 'infectionData73', 'infectionData74', 'infectionData75', 'infectionData76', 'infectionData77', 'infectionData78', 'infectionData79', 'infectionData80', 'infectionData81', 'infectionData82', 'infectionData83', 'infectionData84', 'infectionData85', 'infectionData86', 'infectionData87', 'infectionData88', 'infectionData89', 'infectionData90', 'infectionData91', 'infectionData92', 'infectionData93', 'infectionData94', 'infectionData95', 'infectionData96', 'infectionData97', 'infectionData98', 'infectionData99', 'infectionData100', 'infectionData101', 'infectionData102', 'infectionData103', 'infectionData104', 'infectionData105', 'infectionData106', 'infectionData107', 'infectionData108', 'infectionData109', 'infectionData110', 'infectionData111', 'infectionData112', 'infectionData113', 'infectionData114', 'infectionData115', 'infectionData116', 'infectionData117', 'infectionData118', 'infectionData119', 'infectionData120', 'infectionData121', 'infectionData122', 'infectionData123', 'infectionData124', 'infectionData125', 'infectionData126', 'infectionData127', 'infectionData128', 'infectionData129', 'infectionData130', 'infectionData131', 'infectionData132', 'infectionData133', 'infectionData134', 'infectionData135', 'infectionData136', 'infectionData137', 'infectionData138', 'infectionData139', 'infectionData140', 'infectionData141', 'infectionData142', 'infectionData143', 'infectionData144', 'infectionData145', 'infectionData146', 'infectionData147', 'infectionData148', 'infectionData149', 'infectionData150', 'infectionData151', 'infectionData152', 'infectionData153', 'infectionData154', 'infectionData155', 'infectionData156', 'infectionData157', 'infectionData158', 'infectionData159', 'infectionData160', 'infectionData161', 'infectionData162', 'infectionData163', 'infectionData164', 'infectionData165', 'infectionData166', 'infectionData167', 'infectionData168', 'infectionData169', 'infectionData170', 'infectionData171', 'infectionData172', 'infectionData173', 'infectionData174', 'infectionData175', 'infectionData176', 'infectionData177', 'infectionData178', 'infectionData179', 'infectionData180', 'infectionData181', 'infectionData182', 'infectionData183', 'infectionData184', 'infectionData185', 'infectionData186', 'infectionData187', 'infectionData188', 'infectionData189', 'infectionData190', 'infectionData191', 'infectionData192', 'infectionData193', 'infectionData194', 'infectionData195', 'infectionData196', 'infectionData197', 'infectionData198', 'infectionData199', 'infectionData200', 'infectionData201', 'infectionData202', 'infectionData203', 'infectionData204', 'infectionData205', 'infectionData206', 'infectionData207', 'infectionData208', 'infectionData209', 'infectionData210', 'infectionData211', 'infectionData212', 'infectionData213', 'infectionData214', 'infectionData215', 'infectionData216', 'infectionData217', 'infectionData218', 'infectionData219', 'infectionData220', 'infectionData221', 'infectionData222', 'infectionData223', 'infectionData224', 'infectionData225', 'infectionData226', 'infectionData227', 'infectionData228', 'infectionData229', 'infectionData230', 'infectionData231', 'infectionData232', 'infectionData233', 'infectionData234', 'infectionData235', 'infectionData236', 'infectionData237', 'infectionData238', 'infectionData239', 'infectionData240', 'infectionData241', 'infectionData242', 'infectionData243', 'infectionData244', 'infectionData245', 'infectionData246', 'infectionData247', 'infectionData248', 'infectionData249', 'infectionData250', 'infectionData251', 'infectionData252', 'infectionData253', 'infectionData254', 'infectionData255', 'infectionData256', 'infectionData257', 'infectionData258', 'infectionData259', 'infectionData260', 'infectionData261', 'infectionData262', 'infectionData263', 'infectionData264', 'infectionData265', 'infectionData266', 'infectionData267', 'infectionData268', 'infectionData269', 'infectionData270', 'infectionData271', 'infectionData272', 'infectionData273', 'infectionData274', 'infectionData275', 'infectionData276', 'infectionData277', 'infectionData278', 'infectionData279', 'infectionData280', 'infectionData281', 'infectionData282', 'infectionData283', 'infectionData284', 'infectionData285', 'infectionData286', 'infectionData287', 'infectionData288', 'infectionData289', 'infectionData290', 'infectionData291', 'infectionData292', 'infectionData293', 'infectionData294', 'infectionData295', 'infectionData296', 'infectionData297', 'infectionData298', 'infectionData299', 'infectionData300', 'infectionData301', 'infectionData302', 'infectionData303', 'infectionData304', 'infectionData305', 'infectionData306', 'infectionData307', 'infectionData308', 'infectionData309', 'infectionData310', 'infectionData311', 'infectionData312', 'infectionData313', 'infectionData314', 'infectionData315', 'infectionData316', 'infectionData317', 'infectionData318', 'infectionData319', 'infectionData320', 'infectionData321', 'infectionData322', 'infectionData323', 'infectionData324', 'infectionData325', 'infectionData326', 'infectionData327', 'infectionData328', 'infectionData329', 'infectionData330', 'infectionData331', 'infectionData332', 'infectionData333', 'infectionData334', 'infectionData335', 'infectionData336', 'infectionData337', 'infectionData338', 'infectionData339', 'infectionData340', 'infectionData341', 'infectionData342', 'infectionData343', 'infectionData344', 'infectionData345', 'infectionData346', 'infectionData347', 'infectionData348', 'infectionData349', 'infectionData350', 'infectionData351', 'infectionData352', 'infectionData353', 'infectionData354', 'infectionData355', 'infectionData356', 'infectionData357', 'infectionData358', 'infectionData359', 'infectionData360', 'infectionData361', 'infectionData362', 'infectionData363', 'infectionData364', 'infectionData365', 'infectionData366', 'infectionData367', 'infectionData368', 'infectionData369', 'infectionData370', 'infectionData371', 'infectionData372', 'infectionData373', 'infectionData374', 'infectionData375', 'infectionData376', 'infectionData377', 'infectionData378', 'infectionData379', 'infectionData380', 'infectionData381', 'infectionData382', 'infectionData383', 'infectionData384', 'infectionData385', 'infectionData386', 'infectionData387', 'infectionData388', 'infectionData389', 'infectionData390', 'infectionData391', 'infectionData392', 'infectionData393', 'infectionData394', 'infectionData395', 'infectionData396', 'infectionData397', 'infectionData398', 'infectionData399', 'infectionData400', 'infectionData401', 'infectionData402', 'infectionData403', 'infectionData404', 'infectionData405', 'infectionData406', 'infectionData407', 'infectionData408', 'infectionData409', 'infectionData410', 'infectionData411', 'infectionData412', 'infectionData413', 'infectionData414', 'infectionData415', 'infectionData416', 'infectionData417', 'infectionData418', 'infectionData419', 'infectionData420', 'infectionData421', 'infectionData422', 'infectionData423', 'infectionData424', 'infectionData425', 'infectionData426', 'infectionData427', 'infectionData428', 'infectionData429', 'infectionData430', 'infectionData431', 'infectionData432', 'infectionData433', 'infectionData434', 'infectionData435', 'infectionData436', 'infectionData437', 'infectionData438', 'infectionData439', 'infectionData440', 'infectionData441', 'infectionData442', 'infectionData443', 'infectionData444', 'infectionData445', 'infectionData446', 'infectionData447', 'infectionData448', 'infectionData449', 'infectionData450', 'infectionData451', 'infectionData452', 'infectionData453', 'infectionData454', 'infectionData455', 'infectionData456', 'infectionData457', 'infectionData458', 'infectionData459', 'infectionData460', 'infectionData461', 'infectionData462', 'infectionData463', 'infectionData464', 'infectionData465', 'infectionData466', 'infectionData467', 'infectionData468', 'infectionData469', 'infectionData470', 'infectionData471', 'infectionData472', 'infectionData473', 'infectionData474', 'infectionData475', 'infectionData476', 'infectionData477', 'infectionData478', 'infectionData479', 'infectionData480', 'infectionData481', 'infectionData482', 'infectionData483', 'infectionData484', 'infectionData485', 'infectionData486', 'infectionData487', 'infectionData488', 'infectionData489', 'infectionData490', 'infectionData491', 'infectionData492', 'infectionData493', 'infectionData494', 'infectionData495', 'infectionData496', 'infectionData497', 'infectionData498', 'infectionData499', 'infectionData500'};
predictors = inputTable(:, predictorNames);
response = inputTable.infectionType;
isCategoricalPredictor = [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false];

% Perform cross-validation
partitionedModel = crossval(trainedClassifier.ClassificationEnsemble, 'KFold', 7);

% Compute validation predictions
[validationPredictions, validationScores] = kfoldPredict(partitionedModel);

% Compute validation accuracy
validationAccuracy = 1 - kfoldLoss(partitionedModel, 'LossFun', 'ClassifError');
